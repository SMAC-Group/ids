<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Homework • stat297</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">stat297</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/syllabus.html">Syllabus</a>
</li>
<li>
  <a href="../articles/schedule.html">Schedule</a>
</li>
<li>
  <a href="../articles/homework.html">Homework</a>
</li>
<li>
  <a href="../articles/project.html">Project</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/SMAC-Group/stat297">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Homework</h1>
            
          </div>

    
    
<div class="contents">
<div id="homework-1" class="section level1">
<h1 class="hasAnchor">
<a href="#homework-1" class="anchor"></a>Homework 1</h1>
<div class="alert alert-info">
<p><strong>Important:</strong> To submit your homework share your GitHub repository with <strong>stephaneguerrier</strong> and <strong>munsheet</strong> by the deadline (i.e. 09/14/17 at 4PM). Do not modify your homework after the deadline. We will grade the most recent (~ 4PM) portion of your RMarkdown file.</p>
</div>
<p>The objectives of this homework assignment are the following</p>
<ul>
<li>Build your own RMarkdown document;</li>
<li>Master different aspects of RMarkdown syntax;</li>
<li>Become familiar with GitHub as collaborative tool.</li>
</ul>
<p>To start, create a (perferably private) GitHub repository for your group, and name it <strong>stat297hw1</strong>. Once again, make sure to add <strong>munsheet</strong> and <strong>stephaneguerrier</strong> as collaborators. This project <strong>must</strong> be done using GitHub and respect the following requirements:</p>
<ul>
<li>All members of the group must <code>commit</code> at least once.</li>
<li>All commit messages must be reasonably <code>clear</code> and <code>meaningful</code>.<br>
</li>
<li>Your GitHub repository much include at least one <code>issue</code> containing some form of TO DO list.</li>
</ul>
<p>In your repository create a file called  providing an HTML output with the theme <code>cerulean</code> and syntax highlighting <code>tango</code>. This file should contain the following elements:</p>
<ol style="list-style-type: decimal">
<li>A “title” section which should <em>at least</em> include:
<ul>
<li>A title (e.g. Homework 1)</li>
<li>The authors</li>
<li>The date (think of using <code>Sys.time()</code>)</li>
</ul>
</li>
<li><p>A section called “Introduction” where you provide a short summary of the structure of your homework. Moreover, record a short video to introduce your group and include it in your R Markdown document.</p></li>
<li>
<p>A section called “Group Members”. This sections should have one sub-section for each group member in your team. For example, a group with three members should have three biographies in total. Each of these sub-sections (named after each group member) should include small biographies containing <em>at least</em> the following elements:</p>
<ul>
<li>A picture of your choice (preferably of yourself). Make sure to include a caption for this image.</li>
<li>A paragraph describing your favorite hobby as well as one interesting fact about yourself.</li>
<li>Your favorite quote in blockquote format and be sure to reference your quote using BibTex.</li>
<li>A table having two columns (first column containing the classes you are following this semester; second column containing the time of these classes).</li>
</ul>
</li>
<li>
<p>A section called “R Markdown Syntax”, where you will demonstrate your R Markdown skills! In this section make sure to:</p>
<ul>
<li>Show an example where the chunk option <code>cache = T</code> leads to a misleading answer. This example must be different from the one presented in the textbook.</li>
<li>Simulate 100 random samples from a standard normal distribution using the function <code>rnorm()</code>. Store these 100 values in a vector called <code>x</code>. Then, compute the empirical median, mean and variance of <code>x</code>. Are these results different from 0, 0 and 1 (their respective theoretical values)? Is this result surprising? Justify your answer.</li>
<li>Include a graph showing the histogram of <code>x</code> (make sure to include a caption to this figure), this can be done in R using the function <code>hist()</code>.</li>
<li><p>Include the equation below: <span class="math display">\[
\begin{aligned}
     \mathbb{E} \left[ \text{var} \left\{
                     \boldsymbol{v}_1\left(
                       \hat{\boldsymbol{\theta}},n\right) \big|
                     \hat{\boldsymbol{\theta}} \right\}  \right] 
&amp;=
                 \text{var} \left\{ \mathbf{v}_1\left(
                     \boldsymbol{\theta}_0,n\right)  \right\}  +
                 \mathbb{E} \left[\mathcal{O}_p\left\{
{\bf D}_1(\boldsymbol{\theta}^*,n)(\hat{\boldsymbol{\theta}} - \boldsymbol{\theta}_{0}), 
\dots,
{\bf D}_p(\boldsymbol{\theta}^*,n)(\boldsymbol{\theta} - \boldsymbol{\theta}_{0})
\right\}\right]\\
    &amp;= \text{var} \left\{ \mathbf{v}_1\left( \boldsymbol{\theta}_0,n\right)  \right\}  + \mathcal{O}\left(n^{-2}\right).
\end{aligned}
\]</span></p></li>
<li>Include the following <em>in-line</em> equation: <span class="math inline">\(\mathbf{A} \equiv \left[a_{i,j}\right]_{i,j = 1, \ldots, p}\)</span>.</li>
<li>Include the following text in blue: <font color="blue">“Vérité dans un temps, erreur dans un autre.”, Charles de Montesquieu</font>
</li>
<li>Include a “More info” button with hide/unhide functionality such as:
<button data-toggle="collapse" data-target="#demo">
More info
</button>
<div id="demo" class="collapse">
<p>Some additional info… :)</p>
</div>
</li>
<li><p>Include a “color box” such as the one below:</p></li>
</ul>
<div class="alert alert-success">
<p><strong>Some important Info:</strong> something</p>
</div>
</li>
<li><p>A “References” section that contains all the references used in your document.</p></li>
</ol>
</div>
<div id="homework-2" class="section level1">
<h1 class="hasAnchor">
<a href="#homework-2" class="anchor"></a>Homework 2</h1>
<div class="alert alert-info">
<p><strong>Important:</strong> To submit your homework share your GitHub repository with <strong>stephaneguerrier</strong> and <strong>munsheet</strong> by the deadline, 4PM 10/13/2017. <strong>Do not modify your homework after the deadline</strong>. We will grade the version of your RMarkdown file that’s closest to 4PM 10/13/2017.</p>
</div>
<p>The objectives of this homework assignment are the following:</p>
<ul>
<li>Learn how program effectively using if/else and iterations statements;</li>
<li>Become familiar with using data frame objects and mapping packages;</li>
<li>Constructing a portfolio;</li>
<li>Become familiar with GitHub and using it as a collaborative tool.</li>
</ul>
<p>To start, create a (perferably private) GitHub repository for your group, and name it <strong>stat297hw2</strong>. Be sure to add <strong>munsheet</strong> and <strong>stephaneguerrier</strong> as collaborators.</p>
<p>This project <strong>must</strong> be done using GitHub and respect the following requirements:</p>
<ul>
<li>Each member of the group must <code>commit</code> at least once.</li>
<li>All commit messages must be reasonably <code>clear</code> and <code>meaningful</code>.<br>
</li>
<li>Your GitHub repository must include at least one <code>issue</code> containing some form of a TO DO list.</li>
</ul>
<p><strong>Problem 1: Fizz Buzz</strong></p>
<p>Write a program that prints the numbers from 1 to 1000. But for multiples of three print “Fizz” instead of the number and for the multiples of five print “Buzz”. For numbers which are multiples of both three and five print “FizzBuzz”.</p>
<p>An example output would be:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span>, <span class="dv">2</span>, Fizz, <span class="dv">4</span>, Buzz, Fizz, <span class="dv">7</span>, <span class="dv">8</span>, Fizz, Buzz, <span class="dv">11</span>, Fizz, <span class="dv">13</span>, <span class="dv">14</span>, Fizz Buzz, <span class="dv">16</span>, <span class="dv">17</span>, Fizz, <span class="dv">19</span>, Buzz, Fizz, <span class="dv">22</span>, <span class="dv">23</span>, Fizz, Buzz, <span class="dv">26</span>, Fizz, <span class="dv">28</span>, <span class="dv">29</span>, Fizz Buzz, <span class="dv">31</span>, <span class="dv">32</span>, Fizz, <span class="dv">34</span>, Buzz, Fizz, ...</code></pre></div>
<p><strong>Problem 2: Map</strong></p>
<p>Using the same tools we used in class, create a simple map to represent current standing in the Big Ten football conference. More specifically, the goal of this problem is to reproduce as closely as possible the map below:</p>
<center>
<img src="hw2_map.png" style="width:50.0%">
</center>
<p>Note that the code below was used to download the data needed for this graph:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(maps)
<span class="kw">library</span>(ggmap)
<span class="kw">library</span>(rvest)

<span class="co"># Define webpage</span>
big10 =<span class="st"> </span><span class="kw">read_html</span>(<span class="st">"http://www.bigten.org/library/stats/fb-confsked.html#standings"</span>)

<span class="co"># Get uni names</span>
big10 %&gt;%<span class="st"> </span>
<span class="st">    </span><span class="kw">html_nodes</span>(<span class="st">".b1gfbstats:nth-child(9) td:nth-child(1) , .b1gfbstats:nth-child(6) td:nth-child(1)"</span>) %&gt;%<span class="st"> </span>
<span class="st">    </span><span class="kw">html_text</span>() -&gt;<span class="st"> </span>uni_name
uni_name =<span class="st"> </span><span class="kw">paste</span>(uni_name,<span class="st">"University"</span>)

<span class="co"># Find uni locations</span>
uni_coord =<span class="st"> </span><span class="kw">data.frame</span>(<span class="kw">geocode</span>(uni_name))

<span class="co"># Get win rate</span>
big10 %&gt;%<span class="st"> </span>
<span class="st">    </span><span class="kw">html_nodes</span>(<span class="st">"td:nth-child(7)"</span>) %&gt;%
<span class="st">    </span><span class="kw">html_text</span>() -&gt;<span class="st"> </span>uni_wp
uni_coord$wp =<span class="st"> </span><span class="dv">100</span>*<span class="kw">as.numeric</span>(uni_wp[<span class="dv">1</span>:<span class="kw">length</span>(uni_name)])

<span class="co"># Get division</span>
uni_coord$conf =<span class="st"> </span><span class="kw">rep</span>(<span class="kw">c</span>(<span class="st">"East Division"</span>,<span class="st">"West Division"</span>), <span class="dt">each =</span> <span class="kw">length</span>(uni_name)/<span class="dv">2</span>)</code></pre></div>
<p><strong>Problem 3: 3D-random walks</strong></p>
<p>In this problem you will program a three-dimensional random walk. For this purpose we will consider a three-dimensional space where we let <span class="math inline">\(\mathbf{X}_0 = [0 \;\; 0\;\; 0]^T\)</span> denote the starting point of our process. Suppose that there exist a sequence of random variables <span class="math inline">\(U_1, \cdots, U_B\)</span> such <span class="math inline">\(U_t \stackrel{iid}{\sim} \mathcal{U}(0,1)\)</span>. Then, we let the position at time <span class="math inline">\(t\)</span> (where <span class="math inline">\(1 \leq t \leq B\)</span>) be given by</p>
<p><span class="math display">\[
\mathbf{X}_t = \mathbf{X}_{t - 1} + \mathbf{f}(U_t), 
\]</span></p>
<p>where</p>
<p><span class="math display">\[
\mathbf{f}(U_t) = \left\{
    \begin{array}{ll}
        [\phantom{-}1 \; \,\;\phantom{-}0 \; \,\;\phantom{-}0]^T  &amp; \mbox{if } U_t \leq a_1 \\
        [     -1      \; \,\;\phantom{-}0 \; \,\;\phantom{-}0]^T  &amp; \mbox{if } U_t \in (a_1, \, a_2] \\
        [\phantom{-}0 \; \,\;\phantom{-}1 \; \,\;\phantom{-}0]^T  &amp; \mbox{if } U_t \in (a_2, \, a_3] \\
        [\phantom{-}0 \; -1       \; \,\;\phantom{-}0]^T  &amp; \mbox{if } U_t \in (a_3, \, a_4] \\
        [\phantom{-}0 \; \,\;\phantom{-}0 \; \,\;\phantom{-}1]^T  &amp; \mbox{if } U_t \in (a_4, \, a_5] \\
        [\phantom{-}0 \; \,\;\phantom{-}0 \; -1]^T  &amp; \mbox{if } U_t &gt; a_5. \\
    \end{array}
\right.
\]</span></p>
<p>So for example, if we consider <span class="math inline">\(B = 2\)</span>, <span class="math inline">\(a_i = \frac{i}{6}\)</span>, <span class="math inline">\(U_1 = 0.12\)</span> and <span class="math inline">\(U_2 = 0.81\)</span> then we have</p>
<p><span class="math display">\[\mathbf{X}_1 = \mathbf{X}_0 + \mathbf{f}(U_t = 0.12) = \left[
\begin{matrix}
0\\
0\\
0\\
\end{matrix}\right] + \left[
\begin{matrix}
1\\
0\\
0\\
\end{matrix}\right] = \left[
\begin{matrix}
1\\
0\\
0\\
\end{matrix}\right]. \]</span></p>
<p>and</p>
<p><span class="math display">\[\mathbf{X}_2 = \mathbf{X}_1 + \mathbf{f}(U_t = 0.81) = \left[
\begin{matrix}
1\\
0\\
0\\
\end{matrix}\right] + \left[
\begin{matrix}
0\\
0\\
1\\
\end{matrix}\right] = \left[
\begin{matrix}
1\\
0\\
1\\
\end{matrix}\right]. \]</span></p>
<ul>
<li>
<strong>(a)</strong> Using the same idea, simulate a three-dimensional random walk with <span class="math inline">\(B = 10^4\)</span>, <span class="math inline">\(a_i = \frac{i}{6}\)</span> and with <span class="math inline">\(U_t\)</span> being obtained as follows</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">B &lt;-<span class="st"> </span><span class="dv">10</span>^<span class="dv">4</span>
<span class="kw">set.seed</span>(<span class="dv">1982</span>)
Ut &lt;-<span class="st"> </span><span class="kw">runif</span>(B)
<span class="kw">head</span>(Ut)</code></pre></div>
<pre><code>## [1] 0.7533571 0.6056869 0.4977858 0.6473441 0.2183902 0.4594699</code></pre>
<p>Therefore, <span class="math inline">\(U_t\)</span> corresponds to the <em>t</em>-th element <code>Ut</code>. Using the characteristics, show that</p>
<p><span class="math display">\[
X_B = \left[\begin{matrix}
\phantom{-}26\\
          -44\\
\phantom{-}26\\
\end{matrix}\right],
\]</span></p>
<p>and provide a graphical respresentation of your random walk. For example, you can produce a graph similar to the one below which is based on the function <code>segments3D</code> from the <code>plot3D</code> package. Note that the red and blue points indicate, respectively the starting and end points of the random walk.</p>
<center>
<img src="hw2_2a.png" style="width:50.0%">
</center>
<ul>
<li>
<strong>(b)</strong> Repeat what you have in part <strong>(a)</strong> but with <span class="math inline">\(B = 10^5\)</span>, <span class="math inline">\(a_i = 0.99 \frac{i}{6}\)</span> and with <span class="math inline">\(U_t\)</span> being obtained as follows</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">B &lt;-<span class="st"> </span><span class="dv">10</span>^<span class="dv">5</span>
<span class="kw">set.seed</span>(<span class="dv">2000</span>)
Ut &lt;-<span class="st"> </span><span class="kw">runif</span>(B)
<span class="kw">head</span>(Ut)</code></pre></div>
<pre><code>## [1] 0.1965959 0.7164260 0.3620857 0.3910775 0.8133072 0.4279599</code></pre>
<p>You should obtain</p>
<p><span class="math display">\[
X_B = \left[\begin{matrix}
\phantom{-}142\\
-133\\
-899\\
\end{matrix}\right],
\]</span></p>
<p>and produce a graph similar to:</p>
<center>
<img src="hw2_2b.png" style="width:50.0%">
</center>
<ul>
<li>
<strong>(c) - bonus:</strong> Show that using the setting of part <strong>(b)</strong> we have:</li>
</ul>
<p><span class="math display">\[\mathbb{E} \left[ X_B \right] = \left[\begin{matrix}
0\\
0\\
-0.01 B\\
\end{matrix}\right]. \]</span></p>
<p>Does this result make sense given the end of the process simulated in part <strong>(b)</strong></p>
<ul>
<li>
<strong>(d) - bonus</strong> Create a video to show how a random walk changes in time (an example is provided in file “RW3D.html” posted on piazza).</li>
</ul>
<p>Below create a video as a HTML file. More information can be shown by looking into the <code>animation</code> package. This can, however be done in a video taken in any way and is more free form.</p>
<p><strong>Problem 4: Construct a portfolio</strong></p>
<p>Suppose that you are working in an investment firm company as a quantitative analyst. Your boss gives you the task of creating a portfolio for one of your clients. The client wants to find the portfolio with the smallest variance that satisfies the following constraints:</p>
<ul>
<li>Invest exactly $1,000,000.</li>
<li>Only invest in stocks that are in the S&amp;P500 index.</li>
<li>Spend less than $100 in execution.</li>
</ul>
<p>Your execution fees (i.e. the cost of buying shares) are given by <span class="math inline">\(C_i = \max \left(\$40, \$ 0.0001 \cdot X_i \right)\)</span> for each transaction where <span class="math inline">\(X_i\)</span> represent the amount of money you wish to invest in stock <span class="math inline">\(i\)</span>. For example, if you want to invest 30% and 70% in stocks A and B your total cost would be</p>
<p><span class="math display">\[
  \text{Cost} = C_1 + C_2 = \max \left(\$40, \$ 0.0001 \cdot 0.3 \cdot  10^6  \right) + \max \left(\$40, \$ 0.0001 \cdot 0.7 \cdot  10^6  \right) = \max(\$40, \$30) + \max(\$40, \$70) = \$40 + \$70 = \$110.
  \]</span></p>
<p>Note that <span class="math inline">\(\sum_i X_i = \$1,000,000\)</span>. Therefore, your boss want you to compute all possible portfolios that satify the client’s constraints, represent them graphically as (for example) in the graph below and find the weight of the best (i.e. minimum variance) portfolio.</p>
<center>
<img src="hw2_portfolio.png" style="width:50.0%">
</center>
<p>To help complete this task your boss tells you to use <strong>3 years</strong> of historical data and gives you this code to download the data you will need:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(quantmod)
<span class="kw">library</span>(rvest)
sp500 &lt;-<span class="st"> </span><span class="kw">read_html</span>(<span class="st">"https://en.wikipedia.org/wiki/List_of_S%26P_500_companies"</span>)

sp500 %&gt;%<span class="st"> </span>
<span class="kw">html_nodes</span>(<span class="st">".text"</span>) %&gt;%<span class="st"> </span>
<span class="kw">html_text</span>() -&gt;<span class="st"> </span>ticker_sp500

SP500_symbol &lt;-<span class="st"> </span>ticker_sp500[(<span class="dv">1</span>:<span class="dv">499</span>)*<span class="dv">2+1</span>]
SP500_symbol[SP500_symbol ==<span class="st"> "BRK.B"</span>] &lt;-<span class="st"> "BRK-B"</span>
SP500_symbol[SP500_symbol ==<span class="st"> "BF.B"</span>] &lt;-<span class="st"> "BF-B"</span></code></pre></div>
<p>He also mentioned that the function <code>get()</code> could be useful for this project and provides you with the example below:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(quantmod)
today &lt;-<span class="st"> </span><span class="kw">Sys.Date</span>()
three_year_ago &lt;-<span class="st"> </span><span class="kw">seq</span>(today, <span class="dt">length =</span> <span class="dv">2</span>, <span class="dt">by =</span> <span class="st">"-3 year"</span>)[<span class="dv">2</span>]
stocks_tickers &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"AAPL"</span>, <span class="st">"MSFT"</span>)
<span class="kw">getSymbols</span>(stocks_tickers, <span class="dt">from =</span> three_year_ago, <span class="dt">to =</span> today)</code></pre></div>
<pre><code>## [1] "AAPL" "MSFT"</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">nb_ticker &lt;-<span class="st"> </span><span class="kw">length</span>(stocks_tickers)
var_stocks &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="ot">NA</span>, nb_ticker)
<span class="kw">names</span>(var_stocks) &lt;-<span class="st"> </span>stocks_tickers

for (i in <span class="dv">1</span>:nb_ticker){
Xt =<span class="st"> </span><span class="kw">na.omit</span>(<span class="kw">ClCl</span>(<span class="kw">get</span>(stocks_tickers[i])))
stocks_tickers[i] =<span class="st"> </span><span class="kw">var</span>(Xt)
}
stocks_tickers</code></pre></div>
<pre><code>## [1] "0.000213028519449232" "0.000204423211059422"</code></pre>
</div>
<div id="homework-3" class="section level1">
<h1 class="hasAnchor">
<a href="#homework-3" class="anchor"></a>Homework 3</h1>
<div class="alert alert-info">
<p><strong>Important:</strong> To submit your homework share your GitHub repository with <strong>stephaneguerrier</strong> and <strong>munsheet</strong> by the deadline, 4PM 11/17/2017. <strong>Do not modify your homework after the deadline</strong>. We will grade the version of your RMarkdown file that’s closest to 4PM 11/17/2017.</p>
</div>
<p>The objectives of this homework assignment are the following:</p>
<ul>
<li>Become competent at programming effectively using if/else and iterations statements;</li>
<li>Learn how program effectively using functions and think like a programmer;</li>
<li>Become familiar with GitHub and using it as a collaborative tool.</li>
</ul>
<p>To start, create a (preferably private) GitHub repository for your group and be sure to add <strong>munsheet</strong> and <strong>stephaneguerrier</strong> as collaborators.</p>
<p>This project <strong>must</strong> be done using GitHub and respect the following requirements:</p>
<ul>
<li>Your repository must be named <strong>stat297hw3</strong>.</li>
<li>Each member of the group must <code>commit</code> at least once.</li>
<li>All commit messages must be reasonably <code>clear</code> and <code>meaningful</code>.<br>
</li>
<li>Your GitHub repository must include at least one <code>issue</code> containing some form of a TO DO list.</li>
</ul>
<p><strong>Problem 1: Finding <span class="math inline">\(\pi\)</span></strong></p>
<p>In this exercise, we will consider a Monte-Carlo approach to find the value of <span class="math inline">\(\pi\)</span>. First, we consider the square below which has an area of 4. Second, we draw a unit circle inside of this square.</p>
<p><img src="homework_files/figure-html/unnamed-chunk-10-1.png" width="672" style="display: block; margin: auto;"></p>
<p>Since this circle has a unit radius, its area is simply <span class="math inline">\(\pi\)</span>. Remember that the area of a circle is <span class="math inline">\(\pi r^2\)</span> and in this case <span class="math inline">\(r=1\)</span>. A possible method estimate the area of this circle is the following. Let us consider <span class="math inline">\(B\)</span> points such that <span class="math inline">\(\mathbf{Z}_i = [X_i \;\; Y_i]^T \in \mathbb{R}^2, \; i = 1,..., B\)</span> denotes the coordinate of the <span class="math inline">\(i\)</span>-th point. Next, we assume that <span class="math inline">\(X_i \sim \mathcal{U}(-1,1)\)</span> (i.e. a uniform distribution between -1 and 1) and <span class="math inline">\(Y_i \sim \mathcal{U}(-1,1)\)</span>. Using these definitions we propose the following estimator of <span class="math inline">\(\pi\)</span>:</p>
<p><span class="math display">\[
\hat{\pi} = \text{area of the square } \times \frac{\text{number of points in circle}}{\text{total number of points}} = 4 \frac{\sum_{i = 1}^B \mathbb{I}(X_i^2 + Y_i^2 \leq 1)}{B},
\]</span></p>
<p>where</p>
<p><span class="math display">\[
\mathbb{I}(X_i^2 + Y_i^2 \leq 1) = \left\{
    \begin{array}{ll}
        1  &amp; \mbox{if } X_i^2 + Y_i^2 \leq 1, \\
        0 &amp; \mbox{otherwise.}
    \end{array}
\right.
\]</span></p>
<p>To understand why this method might work, let us show that</p>
<p><span class="math display">\[
\mathbb{E}\left[\hat{\pi}\right] = \pi.
\]</span></p>
<p>To prove this result, we start by noticing that</p>
<p><span class="math display">\[
f_{X,Y}(x,y) = f_X(x) f_Y(y) =  \left\{
    \begin{array}{ll}
        1/4  &amp; \mbox{if } x \in [-1,1] \text{ and } y \in [-1,1], \\
        0 &amp; \mbox{otherwise.}
    \end{array}
\right.
\]</span></p>
<p>Then, we obtain</p>
<p><span class="math display">\[
\begin{aligned}
\mathbb{E}\left[\mathbb{I}(X_i^2 + Y_i^2 \leq 1)\right] &amp;= \mathbb{P}\left(x_i^2 + y_i^2 \leq 1\right) = \iint_{x^2 + y^2 \leq 1}  f_{X,Y}(x,y) dx dy = \frac{1}{4} \iint_{x^2 + y^2 \leq 1} dx dy \\
&amp; = \frac{1}{4} \int_{r = 0}^1 \int_{\theta = 0}^{2\pi} r d\theta dr = \frac{\pi}{2} \int_{r = 0}^1  r dr = \frac{\pi}{4}.
\end{aligned}
\]</span></p>
<p>Therefore, we have</p>
<p><span class="math display">\[
\mathbb{E}\left[\hat{\pi}\right] = \mathbb{E}\left[4 \frac{\sum_{i = 1}^B \mathbb{I}(X_i^2 + Y_i^2 \leq 1)}{B}\right] =4 \mathbb{E}\left[\mathbb{I}(X_i^2 + Y_i^2 \leq 1)\right]= 4 \frac{\pi}{4} = \pi.
\]</span></p>
<p>If you want to know more about of <span class="math inline">\(X^2 + Y^2\)</span> (i.e. the sum of independent squared uniform random variable), which has a really surprising distribution, here is an interesting article: “<a href="http://www.sciencedirect.com/science/article/pii/S0167715217302018">Sum of squares of uniform random variables</a>” by Ishay Weissman.</p>
<p><strong>Goal</strong></p>
<p>The goal of this homework is for you to program a function that would compute <span class="math inline">\(\hat{\pi}\)</span>. Your function should be called <code>find_pi()</code> and should have three inputs, i.e.</p>
<ul>
<li>
<code>B</code>: the number of points (use 5000 as default value),</li>
<li>
<code>seed</code>: a number to control the generation of random numbers (use 10 as default value),</li>
<li>
<code>make_plot</code>: a Boolean value to control whether or not a graph should be made (see below for details and use TRUE as default).</li>
</ul>
<p>Your function should look like:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">find_pi =<span class="st"> </span>function(<span class="dt">B =</span> <span class="dv">5000</span>, <span class="dt">seed =</span> <span class="dv">10</span>, <span class="dt">make_plot =</span> <span class="ot">TRUE</span>){
  <span class="co"># Control seed</span>
  <span class="kw">set.seed</span>(seed)
  
  <span class="co"># Simulate B points</span>
  point =<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">runif</span>(<span class="dv">2</span>*B, -<span class="dv">1</span>, <span class="dv">1</span>), B, <span class="dv">2</span>)
  
 ...
 
 <span class="kw">return</span>(hat_pi)
}</code></pre></div>
<p>The function should output the area within the circle that was created, and in the case where <code>make_plot</code> is <code>TRUE</code> you should produce a graph that plots the box and the circle that was explained earlier. In addition, the <code>B</code> points should also be plotted accordingly, with two distinct colors for inside the circle and outside the circle. Below we have an example of calling this function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">find_pi</span>(<span class="dt">make_plot =</span> <span class="ot">TRUE</span>)</code></pre></div>
<p><img src="homework_files/figure-html/unnamed-chunk-12-1.png" width="480" style="display: block; margin: auto;"></p>
<pre><code>## [1] 3.132</code></pre>
<p>Here we run the same function, but plot more points as <code>B</code> to make a more closer estimate to <span class="math inline">\(\pi\)</span>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">find_pi</span>(<span class="dt">B =</span> <span class="dv">10</span>^<span class="dv">8</span>, <span class="dt">make_plot =</span> <span class="ot">FALSE</span>)</code></pre></div>
<pre><code>## [1] 3.141747</code></pre>
<p>Should return the value of 3.141747, which is a fairly good approximation of <span class="math inline">\(\pi\)</span>. Since you will be use the same seed you should obtain the exact same result.</p>
<p><strong>Problem 2: Satellite Navigation System</strong></p>
<p>Global Navigation Satellite Systems or GNSS are systems with global coverage that uses satellites to provide autonomous geo-spatial positioning. They allow small electronic receivers to determine their location (longitude, latitude, and altitude/elevation) to high precision (within a few meters) using time signals (i.e. “distances” informally speaking) transmitted along a line of sight by radio from satellites. Currently, there exist only three global operational GNSS, the United States’ Global Positioning System (GPS), Russia’s GLONASS and the European Union’s Galileo. However, China is in the process of expanding its regional BeiDou Navigation Satellite System into a global system by 2020. Other countries, such as India, France or Japan are in the process of developing regional and global systems.</p>
<p>Obviously, GNSS are very complex systems and in this exercise we will consider an <strong>extremely simplified</strong> setting to illustrate the basic concepts behind satellite positioning. If you are interested in learning more about GNSS, an excellent introduction to get started this topics can be found here: “<a href="http://www.borealisprecision.com/pdf/An_Introduction_to_GNSS.pdf">An Introduction to GNSS</a>”.</p>
<p>For simplicity, let us start by assuming that the earth is a motionless perfect circle in a two-dimensional space. Next, we assume that three motionless GNSS-like satellites are placed around the earth. The position of these satellites is assumed to be known and we will assume that there are synchronized (i.e. they all have the same “time”). Our simplified setting can be represented as follows:</p>
<p><img src="homework_files/figure-html/unnamed-chunk-15-1.png" width="576" style="display: block; margin: auto;"></p>
<p>Now, suppose that you are somewhere on our flat earth with a GNSS-like receiver. The way you will be able to compute your position with such system is by first determining the distance (or a closely related notion) between yourself and with each satellite. The computation of these distances is done by comparing the time at which a signal is emitted by a satellite and the time at which it is received by your device. More precisely, let <span class="math inline">\(t_e^{(i)}\)</span> and <span class="math inline">\(t_r^{(i)}\)</span> denote, respectively, the times at which a signal is emitted and received for satellite <span class="math inline">\(i\)</span>. To simplify further, in our problem we will assume that <span class="math inline">\(t_e^{(i)}\)</span> is known as the clock in each satellite is assumed to be “perfect”. However, the clock in our device is not perfect and <span class="math inline">\(t_r^{(i)}\)</span> is estimated by <span class="math inline">\(\hat{t}_r^{(i)}\)</span> which represents the time recorded by your receiver. Since all satellites are assumed to be synchronized by can write</p>
<span class="math display">\[\begin{equation}
\hat{t}_r^{(i)} = t_r^{(i)} + \Delta t.
\end{equation}\]</span>
<p>Note that <span class="math inline">\(\Delta t\)</span> (i.e. the time difference) is the same for all satellite as it doesn’t depends on <span class="math inline">\(i\)</span>. Using this simple result as well as the times <span class="math inline">\(\hat{t}_r^{(i)}\)</span> and <span class="math inline">\({t}_e^{(i)}\)</span>, we can compute the estimated distance between us and the <span class="math inline">\(i\)</span>-th satellite as follows:</p>
<p><span class="math display">\[
\hat{d}_i = c\left[(t_r^{(i)} + \Delta t) - t_e^{(i)}\right] = \underbrace{c\left(t_r^{(i)}  - t_e^{(i)}\right)}_{d_i} + \underbrace{c \Delta t}_{\varepsilon} = d_i + \varepsilon,
\]</span></p>
<p>where <span class="math inline">\(c\)</span>, <span class="math inline">\(d_i\)</span> and <span class="math inline">\(\varepsilon\)</span> denote, respectively, the speed of the signal, the true distance between us and the <span class="math inline">\(i\)</span>-th satellite, and the measurement error. Therefore, our setting can be represented as</p>
<p><img src="homework_files/figure-html/unnamed-chunk-16-1.png" width="576" style="display: block; margin: auto;"></p>
<p>Next, we let <span class="math inline">\((x_i, y_i), \, i = 1,2,3\)</span> denote the position of satellite <span class="math inline">\(i\)</span>. These coordinates of these points are given in the table below:</p>
<center>
<table style="width:68%;" class="table">
<colgroup>
<col width="12%">
<col width="27%">
<col width="27%">
</colgroup>
<thead><tr class="header">
<th><span class="math inline">\(i\)</span></th>
<th><span class="math inline">\(\phantom{-3}x_i\)</span></th>
<th><span class="math inline">\(\phantom{-3}y_i\)</span></th>
</tr></thead>
<tbody>
<tr class="odd">
<td><p><span class="math inline">\(1\)</span></p></td>
<td><p><span class="math inline">\(-300\)</span></p></td>
<td><p><span class="math inline">\(\phantom{-}300\)</span></p></td>
</tr>
<tr class="even">
<td><p><span class="math inline">\(2\)</span></p></td>
<td><p><span class="math inline">\(\phantom{-}300\)</span></p></td>
<td><p><span class="math inline">\(\phantom{-}300\)</span></p></td>
</tr>
<tr class="odd">
<td><p><span class="math inline">\(3\)</span></p></td>
<td><p><span class="math inline">\(\phantom{-30}0\)</span></p></td>
<td><p><span class="math inline">\(-300\)</span></p></td>
</tr>
</tbody>
</table>
</center>
<p>Finally, we let <span class="math inline">\((x_0, y_0)\)</span> denote our position. Then, we have that</p>
<p><span class="math display">\[
d_i = \sqrt{\left(x_i - x_0\right)^2 + \left(y_i - y_0\right)^2}.
\]</span></p>
<p>However, <span class="math inline">\(d_i\)</span> is unknown but found earlier that <span class="math inline">\(d_i = \hat{d}_i - \varepsilon\)</span> and by replacing it in the previous equation, we obtain the following system of equations</p>
<p><span class="math display">\[
\begin{aligned}
\left(x_1 - x_0\right)^2 + \left(y_1 - y_0\right)^2 &amp;= \left(\hat{d}_1 - \varepsilon\right)^2\\
\left(x_2 - x_0\right)^2 + \left(y_2 - y_0\right)^2 &amp;= \left(\hat{d}_2 - \varepsilon\right)^2\\
\left(x_3 - x_0\right)^2 + \left(y_3 - y_0\right)^2 &amp;= \left(\hat{d}_3 - \varepsilon\right)^2.
\end{aligned}
\]</span></p>
<p>This system of equations “contrains” our problem and allows us to estimate <span class="math inline">\(x_0\)</span>, <span class="math inline">\(y_0\)</span> and <span class="math inline">\(\varepsilon\)</span>. While there exist several methods to solve such estimation problem, the most common is known as a “least-square adjustement” and will used in this exercise. For this purpose, we let</p>
<p><span class="math display">\[
\boldsymbol{\theta} = \left[x_0 \;\; y_0\;\; \varepsilon\right]^T \in \boldsymbol{\Theta},
\]</span></p>
<p>then we can estimate our position using the following approach:</p>
<p><span class="math display">\[
\hat{\boldsymbol{\theta}} = \operatorname{argmin}_{\boldsymbol{\theta} \in \boldsymbol{\Theta}} \; \sum_{i=1}^3 \; \left[\left(x_i - x_0\right)^2 + \left(y_i - y_0\right)^2 - \left(\hat{d}_i - \varepsilon\right)^2\right]^2.
\]</span></p>
<p><strong>Goal</strong></p>
<p>The goal of this problem is to construct a function that would take a matrix of positions as input and compute your position (i.e. compute <span class="math inline">\(\hat{\boldsymbol{\theta}}\)</span> as described above). This function should return a object of an approriate class having a custom <code>plot</code> and <code>summary</code> functions. For example, suppose that we observe the following distances:</p>
<p><span class="math display">\[
\begin{aligned}
\hat{d}_1 &amp;= 449.2136\\
\hat{d}_2 &amp;= 284.8427\\
\hat{d}_3 &amp;= 414.3106
\end{aligned}
\]</span></p>
<p>then you should replicate (approximately) the following results:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">position =<span class="st"> </span><span class="kw">get_position</span>(<span class="kw">c</span>(<span class="fl">453.2136</span>, <span class="fl">288.8427</span>, <span class="fl">418.3106</span>))
<span class="kw">summary</span>(position)</code></pre></div>
<pre><code>## The estimated position is:
## X = 99.9958
## Y = 100.003</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot</span>(position)</code></pre></div>
<p><img src="homework_files/figure-html/unnamed-chunk-18-1.png" width="576" style="display: block; margin: auto;"></p>
<p>Moreover, if your function is given a matrix as input you should be able to produce the following result: (notice this is a smiley face!)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">dist_mat</code></pre></div>
<pre><code>##           [,1]     [,2]     [,3]
##  [1,] 458.9474 337.1013 363.1112
##  [2,] 337.0894 458.9355 363.0993
##  [3,] 442.5835 442.5835 283.9493
##  [4,] 520.1845 520.1845 184.0449
##  [5,] 534.1411 499.0299 191.3455
##  [6,] 499.1322 534.2434 191.4479
##  [7,] 542.0904 470.4216 212.7515
##  [8,] 470.4070 542.0758 212.7369
##  [9,] 541.6032 429.4569 250.9978
## [10,] 429.4120 541.5583 250.9528</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">position =<span class="st"> </span><span class="kw">get_position</span>(dist_mat)
<span class="kw">plot</span>(position)</code></pre></div>
<p><img src="homework_files/figure-html/unnamed-chunk-21-1.png" width="576" style="display: block; margin: auto;"></p>
<p>Good luck!</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#homework-1">Homework 1</a></li>
      <li><a href="#homework-2">Homework 2</a></li>
      <li><a href="#homework-3">Homework 3</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Justin Lee, Stephane Guerrier, Roberto Molinari, Matthew Beckman.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
